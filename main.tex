\documentclass[a4paper,11pt]{report}
\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{setspace}
\usepackage{tabto} % For text indentation
\usepackage{lipsum} % For generating sample text
\usepackage{titlesec} % For flexible chapter and section numbering
\usepackage{tocloft} % For table of contents

% Page margins
\usepackage[a4paper, left=2.5cm, right=2.5cm, top=3cm, bottom=3cm]{geometry}

% Font style
\renewcommand{\rmdefault}{phv} % Arial as the default font
\renewcommand{\sfdefault}{phv}

% Line spacing
\setstretch{1.5}

% Header configuration
\fancypagestyle{plain}{
    \fancyhf{}
    \fancyhead[L]{\nouppercase{\leftmark}} % Chapter number and title on the left in mixed case
    \fancyhead[R]{\thepage} % Page number on the right
    \renewcommand{\headrulewidth}{0.4pt} % Line at the top of the header
    \renewcommand{\footrulewidth}{0pt} % No line at the bottom of the footer
}

\fancypagestyle{main}{
    \fancyhf{}
    \fancyhead[L]{\nouppercase{\leftmark}} % Chapter number and title on the left
    \fancyhead[R]{\thepage} % Page number on the right
    \renewcommand{\headrulewidth}{0.4pt} % Line at the top of the header
}

\pagestyle{main}

% Chapter and section numbering configuration
\titleformat{\chapter}[hang]{\bfseries\LARGE}{\thechapter.}{1em}{}
\titleformat{\section}[hang]{\bfseries\Large}{\thesection.}{1em}{}
\titleformat{\subsection}[hang]{\bfseries\large}{\thesubsection.}{1em}{}
\titleformat{\subsubsection}[hang]{\bfseries\normalsize}{\thesubsubsection.}{1em}{}

% Customizing header for sections and subsections
\renewcommand{\chaptermark}[1]{\markboth{\thechapter.\ #1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thechapter.\ \chaptername}}

\begin{document}

% Title page
\begin{titlepage}
    \centering
    \includegraphics[width=0.75\textwidth]{images/musteruni_logo.png}\\[1.5cm] % Adjust path to university logo
    {\LARGE \textbf{\underline{Titel der Arbeit}}}\\[1cm]
    \textbf{Bachelorarbeit / Masterarbeit}\\[1cm]
    \onehalfspacing % Reduced line spacing only on the title page
    \raggedright
    Verfasser:
    \tabto{5cm} \textbf{Max Mustermann}\\
    \tabto{5cm} Musterstraße 129\\
    \tabto{5cm} 38195, Musterstadt\\[0.5cm]
    Matrikelnummer: \tabto{5cm} XXXXXXX\\[0.5cm]
    Studiengang: \tabto{5cm} Computer Science\\[0.5cm]
    Fachbereich: \tabto{5cm} Musterstadt Campus\\[0.5cm]
    Semester: \tabto{5cm} 7\\[0.5cm]
    Erstprüfer: \tabto{5cm} Prof. Dr. Ing. Magnus Mustertyp\\[0.5cm]
    Zweitprüfer: \tabto{5cm} Prof. Dr. Dr. rer. nat. Melvin Musterknabe\\[0.5cm]
    Abgegeben am: \tabto{5cm} \today \\[1cm]
    In Zusammenarbeit mit Musterfirma GmbH\\
    Musterstraße 130, 38195 Musterstadt\\[1cm]
    \hfill \includegraphics[width=0.3\textwidth]{images/arendt_company.png} % Adjust path to company logo
    \singlespacing % Back to normal line spacing for the rest of the document
\end{titlepage}

\newpage

% Task description
\include{src/0_abstract}

% Declaration of authorship
\chapter*{Eidesstattliche Erklärung}
\addcontentsline{toc}{chapter}{Eidesstattliche Erklärung}
Hiermit erkläre ich an Eides statt, dass ich die vorliegende Arbeit selbstständig und ohne fremde Hilfe verfasst habe, und dass ich keine anderen als die angegebenen Quellen und Hilfsmittel benutzt habe. Die Stellen der Arbeit, die anderen Quellen dem Wortlaut oder dem Sinn nach entnommen sind, habe ich als solche kenntlich gemacht.

\vspace{3cm}
\noindent
Ort, Datum \hfill Unterschrift

\newpage

% Table of contents
\tableofcontents
\newpage

% Text (including existing chapters)
\include{src/1_introduction}
\include{src/2_basics}
\include{src/3_methods}
\include{src/4_params}
\include{src/5_results}
\include{src/6_conclusion}

% Bibliography
\bibliographystyle{IEEEtran}
\bibliography{references}
\addcontentsline{toc}{chapter}{Bibliography}

\include{src/7_appendix}

\end{document}